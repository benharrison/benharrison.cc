<!doctype html>
<html ng-app="passwordGeneratorGui">
    <head>
        <style type="text/css">
            body {
                font-family: monospace;
            }
        </style>
    </head>
    <body ng-controller="PasswordGeneratorGuiController as ctrl">
        <ol>
            <li ng-repeat="password in ctrl.passwordList">{{password}}</li>
        </ol>

        <ul>
            <li ng-repeat="(key, value) in ctrl.options">
                <label ng-switch="ctrl.getTypeOf(value)">
                    <span ng-switch-when="boolean">
                        <input type="checkbox" ng-model="ctrl.options[key]">
                    </span>
                    <span ng-switch-when="number">
                        <input type="number" ng-model="ctrl.options[key]">
                    </span>
                    <span ng-switch-default>
                        <input type="text" ng-model="ctrl.options[key]">
                    </span>
                    {{ key }}
                </label>
            </li>
        </ul>

    </body>
    <script src="PasswordGenerator.js"></script>

    <script src="https://code.angularjs.org/1.5.8/angular.min.js"></script>
    <script>
        angular.module('passwordGeneratorGui', [])
            .controller('PasswordGeneratorGuiController', function($scope, $interval, $log){
                var listSize = 10;
                var intervalSeconds = 1;

                var ctrl = this;
                ctrl.passwordList = [];

                ctrl.getTypeOf = function(value) {
                    return typeof(value);
                };

                ctrl.options = {
                    length: 20,
                    uppercase: false,
                    lowercase: true,
                    digits: true,
                    specialcharacters: true,
                    brackets: true,
                    spaces: false
                };

                var generatePassword = function() {
                    $log.log(ctrl.options);
                    var password = PasswordGenerator.Generate(ctrl.options);
                    ctrl.passwordList.unshift(password);
                    ctrl.passwordList.splice(listSize, 1);
                }

                for (var i = 0; i < listSize; i++)
                    generatePassword();
                $interval(generatePassword, intervalSeconds * 1000);
            })
    </script>
</html>